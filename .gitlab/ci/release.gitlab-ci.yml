include:
  - local: /.gitlab/ci/setup-pnpm.gitlab-ci.yml
  - local: /.gitlab/ci/setup-git.gitlab-ci.yml

overbookd/release:
  stage: release
  interruptible: true
  image: node:20-alpine
  rules:
    - if: '$CI_PIPELINE_SOURCE == "web" && $RELEASE'
    - when: never
  before_script:
    - !reference [.setup-pnpm, before_script]
    - pnpm install
  script:
    - npx semantic-release
